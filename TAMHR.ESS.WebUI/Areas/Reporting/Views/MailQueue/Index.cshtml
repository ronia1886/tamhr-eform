@section scripts {
    <script type="text/javascript" src="~/plugins/jquery.knob.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $.get(app.resolveUrl("~/api/mail-queue/summary"), {}, function (d) {
                var $items = $(".summary-wrapper").find("[data-field]");

                $.each($items, function (key, value) {
                    var $this = $(value),
                        value = d[$this.data("field")],
                        format = $this.data("format") || "{0}",
                        formattedValue = kendo.format(format, value);

                    if ($this[0].tagName.toLowerCase() == "input") {
                        $this.val(formattedValue);
                    } else {
                        $this.text(formattedValue);
                    }
                });

                $(".knob").knob({
                    draw: function () {
                        var ele = this.$;
                        var fontSize = parseInt(ele.css('font-size'), 10);
                        var updateFontSize = Math.ceil(fontSize * 1.65);
                        var icon = ele.attr('data-knob-icon');
                        ele.hide();
                        $('<i class="knob-center-icon ' + icon + '"></i>').insertAfter(ele).attr('style', 'width: 79px; height: 50px; position: absolute; vertical-align: middle; margin-top: 50px; border: 0px; background: none; text-align: center; color: rgb(225, 225, 225); padding: 0px; -webkit-appearance: none; margin-left: -114px; font-size: ' + updateFontSize + 'px;');
                    }
                });
            });
        });
    </script>
}
<div class="row summary-wrapper">
    <div class="col-lg-4 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
        <div class="card text-center">
            <div class="card-header">
                <span class="font-yellow-crusta">Total Queues</span>
                <h3 class="display-4 font-grey-gallery" data-field="Total"></h3>
            </div>
            <div class="card-body">
                <div style="display:inline;width:150px;height:150px;">
                    <input data-field="TotalSentPercent" type="text" value="0" class="knob hide-value responsive angle-offset" data-angleoffset="20" data-thickness=".15" data-linecap="round" data-width="150" data-height="150" data-inputcolor="#e1e1e1" data-readonly="true" data-fgcolor="#f3c200" data-knob-icon="icon-envelope" readonly="readonly" style="display: none;" />
                </div>
                <ul class="list-inline clearfix mt-4">
                    <li class="border-right border-blue-dark pr-3">
                        <h1 class="blue-grey darken-1 text-bold-400" data-field="TotalSentPercent" data-format="{0}%">0</h1>
                        <span class="success">Sent</span>
                    </li>
                    <li class="pl-3">
                        <h1 class="blue-grey darken-1 text-bold-400" data-field="TotalPendingPercent" data-format="{0}%">0</h1>
                        <span class="danger darken-2">Pending</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
        <div class="card text-center">
            <div class="card-header">
                <span class="font-green-haze">New Queues</span>
                <h3 class="display-4 font-grey-gallery" data-field="TotalNew"></h3>
            </div>
            <div class="card-body">
                <div style="display:inline;width:150px;height:150px;">
                    <input type="text" data-field="TotalNewSentPercent" value="0" class="knob hide-value responsive angle-offset" data-angleoffset="20" data-thickness=".15" data-linecap="round" data-width="150" data-height="150" data-inputcolor="#e1e1e1" data-readonly="true" data-fgcolor="#44b6ae" data-knob-icon="icon-layers" readonly="readonly" style="display: none;" />
                </div>
                <ul class="list-inline clearfix mt-4">
                    <li>
                        <h1 class="blue-grey darken-1 text-bold-400" data-field="TotalAverage">0</h1>
                        <span class="warning darken-2">Average Monthly Queues</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
        <div class="card">
            <div class="card-content">
                <div class="card-body">
                    <div class="media">
                        <div class="media-body text-left">
                            <h3 class="font-red-intense" data-field="TotalPendingTask">0</h3>
                            <span>Pending Approval</span>
                        </div>
                        <div class="media-right media-middle">
                            <i class="ft-alert-circle font-red-intense font-large-2 float-right"></i>
                        </div>
                    </div>
                    <div class="border-top border-grey-cararra mt-2">
                        <a class="btn btn-block red-intense">Send Reminder</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <div class="card-body">
                    <div class="media">
                        <div class="media-body text-left">
                            <h3 class="font-yellow-casablanca" data-field="TotalTemporaryFiles">0</h3>
                            <span>Temporary Files</span>
                        </div>
                        <div class="media-right media-middle">
                            <i class="ft-package font-yellow-casablanca font-large-2 float-right"></i>
                        </div>
                    </div>
                    <div class="border-top border-grey-cararra mt-2">
                        <a class="btn btn-block yellow-crusta">Clean Files</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        <div class="card">
            <div class="card-header bordered">
                <h3 class="card-title">@Localizer["Mail Queue"]</h3>
                <div class="heading-elements">
                    @await Html.PartialAsync("_Toolbars")
                </div>
            </div>
            <div class="card-body p-0 table-wrap no-table-header">
                @(Html.Kendo().Grid<TAMHR.ESS.Domain.MailQueue>()
                    .Name("grid")
                    .HtmlAttributes(new { data_filter = "mail-queues-filter" })
                    .Columns(columns =>
                    {
                        columns.Bound(c => c.Id).Title("Mail Queue").ClientTemplate(@"
                            <div class=""media"">
                                <div class=""media-body ml-3"">
                                    <h6 class=""mt-1 mb-0 bold"">
                                        #:MailSubject#
                                    </h6>
                                    <small class=""d-block"">
                                        <b>Mail Id - </b> #:InstanceKey#
                                    </small>
                                    <small class=""d-block"">
                                        <b>Recipients - </b> #:Recipients#
                                    </small>
                                    <small class=""d-block"">
                                        <b>Created at - </b> #:$.toDefault(kendo.toString(CreatedOn, 'dd-MM-yyyy HH:mm tt'), '?')#
                                    </small>
                                    <small class=""d-block"">
                                        <b>Sent at - </b> #:$.toDefault(kendo.toString(ModifiedOn, 'dd-MM-yyyy HH:mm tt'), '?')#
                                    </small>
                                </div>
                            </div>
                        ");

                        columns.Bound(c => c.MailStatusCode).Title("Status")
                            .HtmlAttributes(new { @class = "text-center" })
                            .ClientTemplate(@"<span class=""badge badge-primary badge-roundless"">#:MailStatusCode#</span>")
                            .Width(120);
                    })
                    .NoRecords(config => config.Template(@"<div class=""text-center p-2 text-muted""><i class=""fa fa-clipboard font-large-1""></i><br/>" + Localizer["No data found"].Value + "</div>"))
                    .DataSource(dataSource => dataSource
                        .Ajax()
                        .Read(read => read.Url(Url.Content("~/api/mail-queue/gets")))
                        .Sort(sort =>
                        {
                            sort.Add("CreatedOn").Descending();
                        })
                        .PageSize(8)
                    )
                    .Pageable(options =>
                    {
                        options.Input(true);
                        options.Numeric(false);
                        options.AlwaysVisible(false);
                    })
                    .Deferred()
                )
            </div>
        </div>
    </div>
</div>